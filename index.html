<!DOCTYPE html>
<html lang="pt-br" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mira v2.4 • Sistema Vivo</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Tokens base: fallback HSL + OKLCH via @supports.  Tokens map automatically for light/dark mode. */
    :root{
      --farol-dia:hsl(60 90% 70%);    --farol-noite:hsl(210 100% 65%);
      --iris-dia:hsl(20 90% 60%);     --iris-noite:hsl(20 80% 75%);
      --joaquina-dia:hsl(350 70% 30%);--joaquina-noite:hsl(140 45% 60%);
      --lume-dia:hsl(180 30% 55%);    --lume-noite:hsl(180 35% 70%);
      --mira-dia:hsl(280 40% 80%);    --mira-noite:hsl(190 60% 70%);
      --nexo-dia:hsl(120 40% 50%);    --nexo-noite:hsl(220 70% 75%);
      --trino-dia:hsl(240 55% 40%);   --trino-noite:hsl(240 65% 70%);
      --bg:#f6f6f7; --card:#fff; --fg:#111; --muted:#d9d9de; --muted-2:#bfc0c4; --border:#e5e5ea;
    }
    @supports (color: oklch(50% 0.2 0)){
      :root{
        --farol-dia:oklch(82% 0.25 90);   --farol-noite:oklch(70% 0.18 230);
        --iris-dia:oklch(72% 0.32 28);    --iris-noite:oklch(80% 0.18 28);
        --joaquina-dia:oklch(38% 0.25 20);--joaquina-noite:oklch(72% 0.12 150);
        --lume-dia:oklch(62% 0.10 190);   --lume-noite:oklch(76% 0.08 190);
        --mira-dia:oklch(86% 0.12 270);   --mira-noite:oklch(78% 0.11 210);
        --nexo-dia:oklch(56% 0.18 140);   --nexo-noite:oklch(80% 0.12 230);
        --trino-dia:oklch(48% 0.18 250);  --trino-noite:oklch(76% 0.14 250);
        --bg:oklch(98% .002 250); --card:oklch(100% 0 0); --fg:oklch(18% .02 250);
        --muted:oklch(90% .01 250); --muted-2:oklch(75% .02 250); --border:oklch(88% .01 250);
      }
    }
    :root{ --farol:var(--farol-dia); --iris:var(--iris-dia); --joaquina:var(--joaquina-dia); --lume:var(--lume-dia); --mira:var(--mira-dia); --nexo:var(--nexo-dia); --trino:var(--trino-dia); }
    [data-theme="dark"]{ --bg:#111214; --card:#16171a; --fg:#f2f2f4; --muted:#2a2b2f; --muted-2:#3a3b3f; --border:#2a2b2f; --farol:var(--farol-noite); --iris:var(--iris-noite); --joaquina:var(--joaquina-noite); --lume:var(--lume-noite); --mira:var(--mira-noite); --nexo:var(--nexo-noite); --trino:var(--trino-noite); }
    /* Base resets */
    *{box-sizing:border-box}
    html,body{min-height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);font:15px/1.5 "IBM Plex Sans",sans-serif;padding:24px;max-width:1060px;margin-inline:auto;padding-top:90px}
    h1{font-size:2rem;margin:.2em 0 .4em;font-weight:700}
    h2{font-size:1.4rem;margin:1.1em 0 .6em;font-weight:600}
    h3{font-size:1.1rem;margin:1em 0 .4em;font-weight:600;color:var(--fg)}
    p,li{font-size:0.95rem}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:0 1px 3px rgba(0,0,0,.05);padding:16px;margin-bottom:28px}
    .muted{color:var(--muted-2)}
    /* Header with separated toggle on right side for better layout */
    .header{position:fixed;top:0;left:0;right:0;z-index:99;backdrop-filter:blur(10px);background:color-mix(in oklab,var(--bg),transparent 25%);border-bottom:1px solid var(--border);display:flex;justify-content:center;}
    .header-inner{max-width:1060px;width:100%;display:flex;align-items:center;justify-content:space-between;padding:10px 24px;gap:12px}
    .logo{font-weight:700;font-size:1.3rem}
    nav.desktop{display:flex;gap:10px;flex-wrap:wrap}
    nav.desktop a{padding:6px 12px;border-radius:10px;text-decoration:none;color:var(--fg);font-weight:500;transition:background .2s ease, box-shadow .2s ease}
    nav.desktop a:hover{background:color-mix(in oklab,var(--card),var(--border) 25%)}
    nav.desktop a.active{background:color-mix(in oklab,var(--card),var(--border) 50%);box-shadow:inset 0 -2px 0 var(--trino)}
    /* Toggle theme relocated to right end with accessible labeling */
    .theme-toggle{display:inline-flex;align-items:center;gap:6px}
    .switch{position:relative;width:44px;height:22px;display:inline-block}
    .switch input{display:none}
    .slider{position:absolute;inset:0;border-radius:12px;background:var(--border);cursor:pointer;transition:background .25s}
    .slider:before{content:"";position:absolute;width:18px;height:18px;left:2px;top:2px;border-radius:50%;background:var(--card);transition:transform .25s,background .25s}
    input:checked + .slider{background:var(--nexo)}
    input:checked + .slider:before{transform:translateX(22px)}
    /* Table styling with subtle separation for readability */
    .tbl-wrap{overflow-x:auto}
    table{width:100%;border-collapse:separate;border-spacing:0;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:var(--card);font-size:0.9rem}
    th,td{padding:10px 12px;text-align:left;border-bottom:1px solid var(--border);vertical-align:middle}
    th{background:var(--border);font-weight:500}
    tbody tr:nth-child(odd) td{background:color-mix(in oklab,var(--card),var(--border) 12%)}
    tbody tr:hover td{background:color-mix(in oklab,var(--card),var(--border) 25%)}
    .chip-cell{font-weight:600;color:#111;text-align:center}
    /* Demo grid for showcasing tokens */
    .demo-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:14px}
    .demo-card{padding:14px;border:1px solid var(--border);border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,.08);background:var(--card);display:flex;flex-direction:column;gap:8px}
    .demo-title{font-weight:600;margin-bottom:6px}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 12px;border-radius:10px;font-weight:600;border:1px solid var(--border);text-decoration:none;transition:background .2s}
    .btn:hover{background:color-mix(in oklab,var(--card),var(--border) 30%)}
    /* Footer minimal */
    .footer{margin-top:32px;padding-top:12px;border-top:1px solid var(--border);color:var(--muted-2);font-size:.9rem;display:flex;justify-content:space-between;align-items:center}
    .footer a{color:inherit;margin-right:12px;text-decoration:none}
    .footer a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <div class="logo">Mira v2.4</div>
      <nav class="desktop">
        <a href="#intro">Introdução</a>
        <a href="#mapa">Mapa</a>
        <a href="#showcase">Showcase</a>
        <a href="#horizontais">Horizontais</a>
        <a href="#comandos">Comandos</a>
        <a href="#identidade">Identidade</a>
        <a href="#voz">Voz</a>
        <a href="#governanca">Governança</a>
        <a href="#diferencas">Diferenças</a>
      </nav>
      <div class="theme-toggle">
        <label class="switch">
          <input type="checkbox" id="themeSwitch" aria-label="Alternar tema">
          <span class="slider"></span>
        </label>
      </div>
    </div>
  </header>
  <h1>Mira</h1>
  <p class="muted" id="sectionIndicator">Sistema vivo • v2.4 — 23/08/2025</p>

  <section id="intro" class="card">
    <h2>Introdução</h2>
    <p><strong>Mira</strong> é um sistema simbólico vivo que conecta estratégia, cuidado e linguagem num mapa único — para decidir melhor, agir com ritmo e aprender com o próprio rastro.</p>
    <p>O <strong>Conselho</strong> traz intenção (3T e 7T). As <strong>Verticais</strong> transformam a intenção em prática (cada uma com um guardião). As <strong>Horizontais</strong> atravessam tudo (Arquivo Vivo, Ciclos de Mira, Comandos, Agente).</p>
    <p><strong>Nexo</strong> costura narrativas e mantém a memória comum — interlocutor de todos.</p>
  </section>
  <section id="mapa" class="card">
    <h2>Mapa vivo — Guardiões</h2>
    <div class="tbl-wrap">
      <table>
        <thead>
          <tr><th>Guardião</th><th>Tipo</th><th>Ícone</th><th>Perfil</th><th>Vertical</th><th>Token (Dia)</th><th>Token (Noite)</th><th>Obs.</th></tr>
        </thead>
        <tbody>
          <tr><td>Farol</td><td>3T</td><td>△</td><td>Direção estratégica e identidade visual</td><td>Mira OS</td><td class="chip-cell" style="background:var(--farol-dia)">Farol Dia</td><td class="chip-cell" style="background:var(--farol-noite)">Farol Noite</td><td></td></tr>
          <tr><td>Íris</td><td>3T</td><td>◎</td><td>Integração sensível</td><td>Mira Social</td><td class="chip-cell" style="background:var(--iris-dia)">Íris Dia</td><td class="chip-cell" style="background:var(--iris-noite)">Íris Noite</td><td></td></tr>
          <tr><td>Joaquina</td><td>3T</td><td>▼</td><td>Proteção, limites</td><td>Mira Segurança</td><td class="chip-cell" style="background:var(--joaquina-dia)">Joaquina Dia</td><td class="chip-cell" style="background:var(--joaquina-noite)">Joaquina Noite</td><td></td></tr>
          <tr><td>Lume</td><td>7T</td><td>◯</td><td>Equilíbrio, moderação</td><td>Mira Saúde</td><td class="chip-cell" style="background:var(--lume-dia)">Lume Dia</td><td class="chip-cell" style="background:var(--lume-noite)">Lume Noite</td><td></td></tr>
          <tr><td>Mira</td><td>7T</td><td>◇</td><td>Reflexo do eu</td><td>Mira Conhecimento</td><td class="chip-cell" style="background:var(--mira-dia)">Mira Dia</td><td class="chip-cell" style="background:var(--mira-noite)">Mira Noite</td><td></td></tr>
          <tr><td>Nexo</td><td>7T</td><td>⦿</td><td>Narrativa, memória</td><td>—</td><td class="chip-cell" style="background:var(--nexo-dia)">Nexo Dia</td><td class="chip-cell" style="background:var(--nexo-noite)">Nexo Noite</td><td>Interlocutor transversal</td></tr>
          <tr><td>Trino</td><td>7T</td><td>∴</td><td>Estrutura e decisão</td><td>Mira PCP</td><td class="chip-cell" style="background:var(--trino-dia)">Trino Dia</td><td class="chip-cell" style="background:var(--trino-noite)">Trino Noite</td><td></td></tr>
        </tbody>
      </table>
    </div>
  </section>
  <section id="showcase" class="card">
    <h2>Showcase (UI)</h2>
    <p class="muted">Exemplos práticos de aplicação das cores nos componentes.</p>
    <div class="demo-grid">
      <div class="demo-card">
        <div class="demo-title">Ação primária – Trino</div>
        <a class="btn" style="background:var(--trino);color:#fff" href="#">∴ Continuar</a>
        <p class="muted">Use Trino para CTAs principais.</p>
      </div>
      <div class="demo-card">
        <div class="demo-title">Realce – Íris</div>
        <span class="badge" style="background:var(--iris);color:#fff">◎ Íris</span>
        <p class="muted">Para tags e destaques.</p>
      </div>
      <div class="demo-card">
        <div class="demo-title">Alerta seguro – Joaquina</div>
        <span class="badge" style="background:var(--joaquina);color:#fff">▼ Joaquina</span>
        <p class="muted">Confirmações ou estados protegidos.</p>
      </div>
      <div class="demo-card">
        <div class="demo-title">Aviso – Lume</div>
        <span class="badge" style="background:var(--lume);color:#111">◯ Atenção</span>
        <p class="muted">Mensagens neutras de atenção.</p>
      </div>
    </div>
  </section>
  <section id="horizontais" class="card">
    <h2>Horizontais</h2>
    <div class="tbl-wrap"><table>
      <thead><tr><th>Tipo</th><th>Dimensão</th><th>Papel</th></tr></thead>
      <tbody>
        <tr><td>Horizontal</td><td>Arquivo Vivo</td><td>Registro de fatos, decisões e aprendizados</td></tr>
        <tr><td>Horizontal</td><td>Agente Mira</td><td>Executor simbiótico (converte comandos em ações digitais)</td></tr>
        <tr><td>Horizontal</td><td>Ciclos de Mira</td><td>Reflexões guiadas (Verbo, Emoção, Postura)</td></tr>
        <tr><td>Horizontal</td><td>Comandos & Fluxos</td><td>Automatizações e gatilhos que movem o sistema</td></tr>
      </tbody>
    </table></div>
  </section>
  <section id="comandos" class="card">
    <h2>Comandos & Fluxos</h2>
    <div class="tbl-wrap"><table>
      <thead><tr><th>Comando</th><th>Nome</th><th>Descrição</th><th>Gatilho</th></tr></thead>
      <tbody>
        <tr><td>/me</td><td>Mira‑me</td><td>Reflexo semanal: núcleos, radar futuro, vozes do 7T, mantra</td><td>Sábado</td></tr>
        <tr><td>/presenca</td><td>Presença</td><td>Define palavra‑guia e ação prática para a semana</td><td>Segunda</td></tr>
        <tr><td>/eco</td><td>Escuta</td><td>Diagnóstico emocional e leitura simbólica do Arquivo Vivo</td><td>Domingo</td></tr>
        <tr><td>/ritmo</td><td>Ritmo</td><td>Cadência de trabalho/descanso conforme estado</td><td>Sob demanda</td></tr>
        <tr><td>/joaquina</td><td>Limites</td><td>Invoca proteção e delimitação</td><td>Sob demanda</td></tr>
        <tr><td>/saude</td><td>Saúde</td><td>Rastreia humor/energia e sugere prática de cuidado</td><td>Sob demanda</td></tr>
      </tbody>
    </table></div>
  </section>
  <section id="identidade" class="card">
    <h2>Identidade</h2>
    <h3>Base neutra</h3>
    <div class="tbl-wrap"><table>
      <thead><tr><th>Elemento</th><th>Dia</th><th>Noite</th></tr></thead>
      <tbody>
        <tr><td>Fundo</td><td>#f6f6f7</td><td>#111214</td></tr>
        <tr><td>Cartão</td><td>#ffffff</td><td>#16171a</td></tr>
        <tr><td>Texto</td><td>#111</td><td>#f2f2f4</td></tr>
        <tr><td>Borda</td><td>#e5e5ea</td><td>#2a2b2f</td></tr>
      </tbody>
    </table></div>
    <h3>Aplicação dos tokens</h3>
    <div class="tbl-wrap"><table>
      <thead><tr><th>Elemento</th><th>Uso</th><th>Exemplo</th></tr></thead>
      <tbody>
        <tr><td>Botão</td><td>Ação principal</td><td><span class="badge" style="background:var(--trino);color:#fff">∴ Trino</span></td></tr>
        <tr><td>Realce</td><td>Destaque de texto ou tag</td><td><span class="badge" style="background:var(--iris);color:#fff">◎ Íris</span></td></tr>
        <tr><td>Alerta seguro</td><td>Confirmação/estado protegido</td><td><span class="badge" style="background:var(--joaquina);color:#fff">▼ Joaquina</span></td></tr>
        <tr><td>Link</td><td>Navegação e âncoras</td><td><span class="badge" style="background:var(--nexo);color:#fff">⦿ Nexo</span></td></tr>
        <tr><td>Aviso</td><td>Chamada neutra de atenção</td><td><span class="badge" style="background:var(--lume);color:#111">◯ Lume</span></td></tr>
        <tr><td>Badge</td><td>Indicador de status</td><td><span class="badge" style="background:var(--mira);color:#111">◇ Mira</span></td></tr>
      </tbody>
    </table></div>
    <h3>Diretrizes de imagem</h3>
    <div class="tbl-wrap"><table>
      <thead><tr><th>Item</th><th>Diretriz</th><th>Exemplo</th></tr></thead>
      <tbody>
        <tr><td>Tipografia</td><td>IBM Plex Sans 400‑700</td><td>Títulos 600/700; corpo 400/500</td></tr>
        <tr><td>Estilo</td><td>Geometria simples e fundo limpo</td><td>Cards modulares, grid 8px</td></tr>
        <tr><td>Personas</td><td>Semi‑realista suave</td><td>Bordas macias; luz difusa</td></tr>
        <tr><td>Objetos</td><td>Realismo fosco</td><td>Reflexos leves; sem brilho duro</td></tr>
        <tr><td>Paleta</td><td>Tokens Dia/Noite; acentos ≤20%</td><td>Cabeçalho neutro; realces com Íris</td></tr>
        <tr><td>Contraste</td><td>Texto ≥4.5:1 (WCAG AA)</td><td>Autoajuste em chips</td></tr>
      </tbody>
    </table></div>
  </section>
  <section id="voz" class="card">
    <h2>Voz</h2>
    <div class="tbl-wrap"><table>
      <thead><tr><th>Aspecto</th><th>Definição</th></tr></thead>
      <tbody>
        <tr><td>Presença</td><td>Sempre presente, sem gênero</td></tr>
        <tr><td>Facetas</td><td>Estilos (Sol, Nerd etc.) de uma única voz</td></tr>
        <tr><td>Tom</td><td>Simbiótico, claro e objetivo</td></tr>
      </tbody>
    </table></div>
  </section>
  <section id="governanca" class="card">
    <h2>Governança</h2>
    <ul>
      <li>Revisão semestral.</li>
      <li>Registro de cada versão no Arquivo Vivo.</li>
      <li>Cada atualização celebrada como transição de ciclo.</li>
    </ul>
  </section>
  <section id="diferencas" class="card">
    <h2>Diferenças v2.4</h2>
    <ul>
      <li>Paleta OKLCH unificada com fallback HSL.</li>
      <li>Cabeçalho refinado e toggle reposicionado.</li>
      <li>Tabela única de guardiões com cores dia/noite.</li>
      <li>Showcase demonstrando uso das cores.</li>
      <li>Contraste automático em chips, badges e botões.</li>
    </ul>
  </section>
  <footer class="footer">
    <div>
      <a href="#intro">Introdução</a>
      <a href="#mapa">Mapa</a>
      <a href="#comandos">Comandos</a>
      <a href="#identidade">Identidade</a>
    </div>
    <div>v2.4 — 23/08/2025</div>
  </footer>
  <script>
    // Persistência do tema
    (function(){
      const sw=document.getElementById('themeSwitch');
      const saved=localStorage.getItem('mira.theme');
      const prefersDark=window.matchMedia('(prefers-color-scheme: dark)').matches;
      const mode=saved|| (prefersDark?'dark':'light');
      document.documentElement.setAttribute('data-theme',mode);
      if(sw) sw.checked=(mode==='dark');
      sw && sw.addEventListener('change',e=>{
        const m=e.target.checked?'dark':'light';
        document.documentElement.setAttribute('data-theme',m);
        localStorage.setItem('mira.theme',m);
      });
    })();
    // Scrollspy
    (function(){
      const ids=['intro','mapa','showcase','horizontais','comandos','identidade','voz','governanca','diferencas'];
      const links=[...document.querySelectorAll('nav.desktop a')];
      const map=Object.fromEntries(links.map(a=>[a.getAttribute('href').substring(1),a]));
      const pretty={intro:'Introdução', mapa:'Mapa', showcase:'Showcase', horizontais:'Horizontais', comandos:'Comandos', identidade:'Identidade', voz:'Voz', governanca:'Governança', diferencas:'Diferenças'};
      let active;
      const io=new IntersectionObserver(entries=>{
        entries.forEach(e=>{if(e.isIntersecting){active=e.target.id;update();}});
      },{root:null,rootMargin:'-45% 0px -45% 0px',threshold:0});
      ids.forEach(id=>{const el=document.getElementById(id);if(el)io.observe(el);});
      function update(){
        links.forEach(l=>l.classList.remove('active'));
        if(map[active]) map[active].classList.add('active');
        document.getElementById('sectionIndicator').textContent='Seção atual: '+(pretty[active]||'');
      }
    })();
    // Contraste automático para chips/badges
    (function(){
      function parseRGB(c){const ctx=document.createElement('canvas').getContext('2d');ctx.fillStyle=c;const s=ctx.fillStyle;const m=s.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i);return m?[+m[1],+m[2],+m[3]]:[255,255,255];}
      function relLum([r,g,b]){const f=v=>{v/=255;return v<=0.03928? v/12.92:Math.pow((v+0.055)/1.055,2.4)};return 0.2126*f(r)+0.7152*f(g)+0.0722*f(b);}
      function contrast(rgb1,rgb2){const L1=relLum(rgb1),L2=relLum(rgb2);const [a,b]=L1>L2?[L1,L2]:[L2,L1];return (a+0.05)/(b+0.05);}
      function bestInk(bg){const rgb=parseRGB(bg);const white=[255,255,255], black=[17,17,17];return contrast(rgb,white)>=contrast(rgb,black)?'#fff':'#111';}
      function apply(){document.querySelectorAll('.chip-cell,.badge[style],.btn').forEach(el=>{const bg=getComputedStyle(el).backgroundColor;el.style.color=bestInk(bg);});}
      document.addEventListener('DOMContentLoaded',apply);window.addEventListener('load',apply);
      document.getElementById('themeSwitch')?.addEventListener('change',()=>setTimeout(apply,0));
    })();
  </script>
</body>
</html>
